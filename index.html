<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>For My Cupcake ğŸ’–</title>

    <style>
      /* ---------------- BASE ---------------- */

      body {
        margin: 0;
        font-family: "Poppins", "Comic Sans MS", sans-serif;
        background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
        overflow: hidden;
      }

      .container {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(15px);
        padding: 30px;
        border-radius: 25px;
        width: 90%;
        max-width: 450px;
        text-align: center;
        box-shadow: 0 0 30px rgba(255, 105, 180, 0.4);
        position: relative;
      }

      .hidden {
        display: none;
      }

      h1 {
        color: #ff7eb3;
      }

      button {
        background: linear-gradient(45deg, #ff4d88, #ff85a2);
        border: none;
        padding: 10px 22px;
        border-radius: 20px;
        color: white;
        font-size: 16px;
        cursor: pointer;
        transition: 0.3s;
      }

      button:hover {
        transform: scale(1.08);
      }

      input {
        padding: 10px;
        width: 80%;
        border-radius: 15px;
        border: none;
        text-align: center;
        font-size: 16px;
      }

      /* ---------------- SLIDESHOW ---------------- */

      #slideshow {
        width: 100%;
        max-width: 400px;
        height: min(60vw, 300px); /* responsive height */
        margin: 20px auto;
        border-radius: 20px;
        overflow: hidden;
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      #slideshow img {
        width: 100%;
        height: 100%;
        object-fit: cover; /* fills nicely */
        position: absolute;
        opacity: 0;
        transition: opacity 1s ease-in-out;
      }

      #slideshow img.active {
        opacity: 1;
      }

      /* ---------------- BUTTONS ---------------- */

      .buttons {
        margin-top: 20px;
        display: flex;
        justify-content: center;
        gap: 20px;
      }

      #noBtn {
        background: linear-gradient(45deg, #555, #999);
      }

      /* ---------------- MUSIC ---------------- */

      #musicBtn {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: rgba(255, 255, 255, 0.2);
        padding: 8px 15px;
        border-radius: 20px;
        font-size: 14px;
      }

      /* ---------------- ANIMATIONS ---------------- */

      .heart {
        position: fixed;
        font-size: 20px;
        animation: float 4s linear infinite;
        opacity: 0.7;
      }

      @keyframes float {
        from {
          transform: translateY(100vh);
        }
        to {
          transform: translateY(-10vh);
        }
      }

      .shake {
        animation: shake 0.4s;
      }

      @keyframes shake {
        0% {
          transform: translateX(0);
        }
        25% {
          transform: translateX(-5px);
        }
        50% {
          transform: translateX(5px);
        }
        75% {
          transform: translateX(-5px);
        }
        100% {
          transform: translateX(0);
        }
      }

      .confetti {
        position: fixed;
        width: 10px;
        height: 10px;
        animation: fall 3s linear infinite;
      }

      @keyframes fall {
        from {
          transform: translateY(-10vh) rotate(0);
        }
        to {
          transform: translateY(110vh) rotate(360deg);
        }
      }

      /* DATE TICKET */

      .ticket {
        margin-top: 20px;
        padding: 20px;
        border: 2px dashed #ff7eb3;
        border-radius: 15px;
        background: rgba(255, 255, 255, 0.15);
        font-size: 14px;
        animation: fadeIn 1s ease-in;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: scale(0.9);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      .envelope {
        width: 280px;
        height: 180px;
        background: #ff7eb3;
        position: relative;
        margin: 0 auto 20px;
        border-radius: 10px;
        overflow: hidden;
      }

      .envelope::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: #ff4d88;
        clip-path: polygon(0 0, 50% 60%, 100% 0, 100% 100%, 0 100%);
        transition: 0.8s;
      }

      .envelope.open::before {
        transform: translateY(-120%);
      }

      .fade-in {
        opacity: 0;
        transition: opacity 1s ease-in;
      }
      .fade-in.show {
        opacity: 1;
        transition: opacity 1s ease-in;
      }
      .fade-out {
        opacity: 0;
        transition: opacity 1s ease-out;
      }
    </style>
  </head>

  <body>
    <!-- LOCK -->
    <div class="container" id="lock">
      <div class="envelope" id="envelope"></div>

      <h1>ğŸ’Œ Secret Message</h1>

      <p>Solve if you are my Cupcake ğŸ’•<br /></p>

      <p style="font-style: italic; margin-bottom: 10px">
        ğŸ§© <b>Love Cryptic</b><br />
        <span id="clueText"></span>
      </p>

      <div style="margin: 10px 0">
        <button onclick="showDef()">Definition ğŸ’¡</button>
        <button onclick="showFodder()">Fodder ğŸ”</button>
        <button onclick="showInd()">Indicator ğŸ§­</button>
      </div>

      <p id="hintBox" style="min-height: 3px"></p>

      <input id="pass" type="text" placeholder="Your answer hereâ€¦" />

      <br /><br />

      <button onclick="unlock()">Open ğŸ’–</button>

      <p id="error"></p>
    </div>

    <!-- MAIN -->
    <div class="container hidden" id="main">
      <h1>Hi My Cupcake ğŸ’–</h1>

      <div id="slideshow"></div>

      <p id="msg"></p>

      <h2>Will you be my Valentine? ğŸ’˜</h2>

      <div class="buttons">
        <button id="yesBtn">YES â¤ï¸</button>
        <button id="noBtn">NO ğŸ’”</button>
      </div>
    </div>

    <!-- SUCCESS -->
    <div class="container hidden" id="success">
      <p id="andAlsoMsg" class="hidden fade-in" style="font-size:28px; margin-top:15px;font-weight: bold;">And also.........</p>
      <p id="anniversaryMsg" class="hidden fade-in" style="font-size:28px; margin-top:15px;font-weight: bold;">ğŸ’– Happy 1 Year Anniversary, My Abububu <br>365 days of loving youâ€¦ and forever to go ğŸ˜­â¤ï¸</p>
      <h1>YAYYYYY ğŸ’•ğŸ‰</h1>

      <p>
        Youâ€™re mine forever ğŸ˜˜<br /><br />
        Thank you for choosing me.<br />
        I love you more than words â¤ï¸
      </p>

      <h2>ğŸ’‹ğŸ’‹ğŸ’‹</h2>

      <div id="ticket" class="ticket hidden">
        ğŸŸï¸ DATE TICKET ğŸŸï¸<br /><br />

        With: My Favorite Person ğŸ’–<br />
        Occasion: ğŸ’– 1 Year Together ğŸ’–<br>
        Date: <span id="dateText"></span><br /><br />

        Valid Forever â¤ï¸
      </div>
    </div>

    <button id="musicBtn" class="hidden">ğŸ”Š Our song</button>

    <audio id="music" loop></audio>

    <script>
      /* ---------------- CONFIG ---------------- */
      const cryptic = {
        clue: "Special DDay rememmbered byyyy lover, marking one year (8)",

        answer: "19022025",

        definition: "Special day ğŸ’•, marking one year",

        fodder: "lover",

        indicator: "remembered (think back ğŸ˜‰)",
      };
      document.getElementById("clueText").innerText = cryptic.clue;

      const config = {
        herName: "My Cupcake",
        // password: "00000000",

        song: "our_song.mp3",

        photos: [
          "photos/1.jpg",
          "photos/2.jpg",
          "photos/3.jpg",
          "photos/4.jpg",
          "photos/5.jpg",
          "photos/6.jpg",
          "photos/7.jpg",
          "photos/8.jpg",
          "photos/9.jpg",
          "photos/10.jpg",
          "photos/11.jpg",
          "photos/12.jpg",
        ],

        message: `
          From the moment you came into my life,
          everything became brighter and warmer ğŸ’–

          You are my favorite person,
          my safe place,
          my best friend ğŸ˜˜

          And yesâ€¦
          you're illegally cute ğŸ˜â¤ï¸
          `,
        date: "February 21, 2026 ğŸ’•",
      };

      /* ---------------- HINT SYSTEM ---------------- */
      let defHintShown = false;
      let fodderHintShown = false;
      let indHintShown = false;
      function showDef() {
        if (defHintShown) return;
        defHintShown = true;
        document.getElementById("hintBox").innerText +=
          "\nDefinition: " + cryptic.definition;
        console.log("here")
      }

      function showFodder() {
        if (fodderHintShown) return;
        fodderHintShown = true;
        document.getElementById("hintBox").innerText +=
          "\nFodder: " + cryptic.fodder;
      }

      function showInd() {
        if (indHintShown) return;
        indHintShown = true;
        document.getElementById("hintBox").innerText +=
          "\nIndicator: " + cryptic.indicator;
      }

      /* ---------------- LOCK ---------------- */

      const audio = document.getElementById("music");

      function unlock() {
        const val = document.getElementById("pass").value;

        if (val === cryptic.answer) {
          document.getElementById("envelope").classList.add("open");
          setTimeout(() => {
            document.getElementById("lock").classList.add("hidden");
            document.getElementById("main").classList.remove("hidden");

            startMusic();
            startHearts();
            initSlideshow();

            document.getElementById("msg").innerText = config.message;
            document.getElementById("musicBtn").classList.remove("hidden");
          }, 800);
        } else {
          document.getElementById("error").innerText =
            "Wrongggg ğŸ˜ Try again!";
        }
      }

      /* ---------------- MUSIC ---------------- */

      let playing = false;

      audio.src = config.song;
      audio.volume = 0.4;

      function startMusic() {
        audio.play();
        playing = true;
      }

      document.getElementById("musicBtn").onclick = () => {
        if (playing) {
          audio.pause();
          playing = false;
        } else {
          audio.play();
          playing = true;
        }
      };

      /* ---------------- SLIDESHOW ---------------- */

      function initSlideshow() {
        const box = document.getElementById("slideshow");

        config.photos.forEach((src, i) => {
          const img = document.createElement("img");
          img.src = src;

          if (i === 0) img.classList.add("active");

          box.appendChild(img);
        });

        let idx = 0;

        setInterval(() => {
          const imgs = document.querySelectorAll("#slideshow img");

          imgs[idx].classList.remove("active");

          idx = (idx + 1) % imgs.length;

          imgs[idx].classList.add("active");
        }, 2500);
      }

      /* ---------------- HEARTS ---------------- */

      function startHearts() {
        setInterval(() => {
          const h = document.createElement("div");

          h.className = "heart";
          h.innerText = "â¤ï¸";

          h.style.left = Math.random() * 100 + "vw";
          h.style.animationDuration = 3 + Math.random() * 3 + "s";

          document.body.appendChild(h);

          setTimeout(() => h.remove(), 5000);
        }, 350);
      }

      /* ---------------- NO BUTTON CHAOS ---------------- */

      let noCount = 0;

      const noBtn = document.getElementById("noBtn");
      let yesBtn = document.getElementById("yesBtn");

      noBtn.onclick = () => {
        if (noCount == -1) finish();
        noCount++;

        if (noCount === 1) {
          noBtn.innerText = "Are you sure? ğŸ¥º";
        } else if (noCount === 2) {
          noBtn.style.transform = "scale(0.8)";
          noBtn.innerText = "Are you sure? ğŸ¥º";
        } else if (noCount === 3) {
          noBtn.innerText = "Think again ğŸ˜â¤ï¸";
          yesBtn.style.transform = "scale(1.5)";
        } else if (noCount === 4) {
          noBtn.innerText = "WHYYYYYYYY? ğŸ˜­";
          document.body.classList.add("shake");

          setTimeout(() => document.body.classList.remove("shake"), 400);
        } else if (noCount === 5) {
          noBtn.innerText = "You meanie! huhuuhuuuuğŸ˜­";
        } else if (noCount === 6) {
          noBtn.innerText = "badmas bachha! ok fine....";
          yesBtn.style.transform = "scale(0.5)";
        } else {
          noCount = -1;
          noBtn.innerText = "I'm just not taking no for an answer! hmphhhh! ğŸ˜¤";
          noBtn.style.background = "linear-gradient(45deg,#ff4d88,#ff85a2)";
          yesBtn.style.transform = "scale(1.5)";
        }
      };

      /* ---------------- YES ---------------- */

      yesBtn.onclick = finish;

      noBtn.addEventListener("dblclick", finish);

      function finish() {
        setTimeout(() => {
          const andAlsoMsg = document.getElementById("andAlsoMsg");
          andAlsoMsg.classList.remove("hidden");
          andAlsoMsg.classList.add("show");
        }, 1500);
        setTimeout(() => {
          const andAlsoMsg = document.getElementById("andAlsoMsg");
          andAlsoMsg.classList.remove("show");
          andAlsoMsg.classList.add("fade-out");
          setTimeout(() => {
            andAlsoMsg.classList.add("hidden");
          }, 1000);
        }, 3000);
        setTimeout(() => {
          const anniversaryMsg = document.getElementById("anniversaryMsg");
          anniversaryMsg.classList.remove("hidden");
          anniversaryMsg.classList.add("show");
        }, 4000);
        document.getElementById("main").classList.add("hidden");
        document.getElementById("success").classList.remove("hidden");

        audio.volume = 0.7;

        // Show ticket
        document.getElementById("ticket").classList.remove("hidden");
        document.getElementById("dateText").innerText = config.date;

        confetti();
      }

      /* ---------------- CONFETTI ---------------- */

      function confetti() {
        for (let i = 0; i < 120; i++) {
          const c = document.createElement("div");

          c.className = "confetti";

          c.style.left = Math.random() * 100 + "vw";

          c.style.background = `hsl(${Math.random() * 360},100%,70%)`;

          c.style.animationDuration = 2 + Math.random() * 3 + "s";

          document.body.appendChild(c);
        }
      }
    </script>
  </body>
</html>
